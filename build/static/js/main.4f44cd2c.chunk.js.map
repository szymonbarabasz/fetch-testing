{"version":3,"sources":["index.js"],"names":["Search","props","className","type","onChange","handleChange","Ratings","ratingsArr","ratings","length","i","push","Source","Value","ScrollButton","onClick","window","scroll","top","document","body","offsetHeight","left","behavior","MovieFetch","useState","isLoaded","setIsLoaded","error","setError","items","setItems","title","setTitle","useEffect","fetch","method","headers","Accept","then","res","json","result","console","log","style","fontStyle","message","e","target","value","Title","Actors","Director","Genre","Year","imdbRating","Metascore","Released","BusSelect","busArr","stop","MZKFetch","line","setLine","direction","setDirection","setStop","formData","FormData","append","authorization","text","nextSibling","setTimeout","slice","split","dangerouslySetInnerHTML","__html","App","Fragment","React","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4f44cd2c.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\n\r\nfunction Search(props) {\r\n  return (\r\n    <input\r\n      className=\"moviesinput\"\r\n      type=\"search\"\r\n      onChange={props.handleChange}\r\n    />\r\n  );\r\n}\r\n// const title = prompt(\"Wpisz tytuł filmu który szukasz po angielsku\");\r\n\r\n//sposób na robienie loopów i if-ów w react\r\nfunction Ratings(props) {\r\n  let ratingsArr = [];\r\n  if (!props.ratings || props.ratings.length === 0) {\r\n    ratingsArr.push(<div key={0}>Brak innych ocen</div>);\r\n  } else {\r\n    for (let i = 0; i < props.ratings.length; i++) {\r\n      ratingsArr.push(\r\n        <div key={i}>\r\n          Ocena {props.ratings[i].Source}: {props.ratings[i].Value}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  return ratingsArr;\r\n}\r\n\r\nfunction ScrollButton(props) {\r\n  function handleClick() {\r\n    window.scroll({\r\n      top: document.body.offsetHeight,\r\n      left: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n  }\r\n\r\n  return (\r\n    <button\r\n      className=\"scrollButton fas fa-chevron-down\"\r\n      onClick={handleClick}\r\n    ></button>\r\n  );\r\n}\r\n\r\nfunction MovieFetch() {\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [items, setItems] = useState([]);\r\n  const [title, setTitle] = useState(\"The Room\");\r\n\r\n  function handleChange(e) {\r\n    setTitle(e.target.value);\r\n  }\r\n  //dobrze jest zrobić fetch-a w componentDidMount po renderze (tutaj useEffect)\r\n  //ponieważ odpali to wszystko po renderze właśnie\r\n  useEffect(() => {\r\n    fetch(`https://www.omdbapi.com/?t=${title}&apikey=63e8f48b`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        // authorization: 'no-scam',\r\n        //   'Access-Control-Allow-Origin': '*',\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then(\r\n        (result) => {\r\n          console.log(result);\r\n          setIsLoaded(true);\r\n          setItems(result);\r\n          console.log(result.Ratings);\r\n        },\r\n        (error) => {\r\n          setIsLoaded(false);\r\n          setError(error);\r\n        }\r\n      );\r\n  }, [title]);\r\n\r\n  if (error) {\r\n    return <h1 style={{ fontStyle: 150 }} className=\"error\">Error! {error.message}</h1>;\r\n  } else if (!isLoaded) {\r\n    return (\r\n      <div className=\"movies\">\r\n        <div className=\"header skeleton\" />\r\n        <div className=\"moviestableSkeleton\">\r\n          <div className=\"skeleton-text skeleton\" />\r\n          <div className=\"skeleton-text skeleton\" />\r\n          <div className=\"skeleton-text skeleton\" />\r\n          <div className=\"skeleton-text skeleton\" />\r\n          <div className=\"skeleton-text skeleton\" />\r\n          <div className=\"skeleton-text skeleton\" />\r\n          <div className=\"skeleton-text skeleton\" />\r\n          <div className=\"skeleton-text skeleton\" />\r\n          <div className=\"skeleton-text skeleton\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className=\"moviesfetch\">\r\n        <div className=\"movies\">\r\n          <div className=\"header\">\r\n            <h2 className=\"title\">Tabela z danymi nt. filmów</h2>\r\n            <h3 className=\"subtitle\">wpisz tytuł filmu:</h3>\r\n          </div>\r\n          <Search handleChange={handleChange} />\r\n          <div className=\"moviestable\">\r\n            <div>Tytuł: {items.Title}</div>\r\n            <div>Aktorzy: {items.Actors}</div>\r\n            <div>Reżyser: {items.Director}</div>\r\n            <div>Gatunek: {items.Genre}</div>\r\n            <div>Rok produkcji: {items.Year}</div>\r\n            <div>Ocena imdb: {items.imdbRating}</div>\r\n            <div>Ocena metascore: {items.Metascore}</div>\r\n            <Ratings ratings={items.Ratings} />\r\n            <div>Data wydania: {items.Released}</div>\r\n          </div>\r\n        </div>\r\n        <ScrollButton />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction BusSelect(props) {\r\n  const busArr = [];\r\n\r\n  if (props.stop === \"58\") {\r\n    busArr.push(\r\n      <select\r\n        className=\"busSelect\"\r\n        onChange={props.handleChange}\r\n        key={props.stop}\r\n      >\r\n        <option value=\"3 Sienna / Leśna\" key=\"3\">\r\n          3 Sienna / Leśna\r\n        </option>\r\n        <option value=\"8 Żywiec Pętla MZK\" key=\"8\">\r\n          8 Żywiec Pętla MZK\r\n        </option>\r\n      </select>\r\n    );\r\n  } else if (props.stop === \"647\") {\r\n    busArr.push(\r\n      <select\r\n        className=\"busSelect\"\r\n        onChange={props.handleChange}\r\n        key={props.stop}\r\n      >\r\n        <option value=\"1 Świnna, Przyłęków, Pewel Ślemieńska\" key=\"1\">\r\n          1 Świnna, Przyłęków, Pewel Ślemieńska\r\n        </option>\r\n        <option value=\"2 Trzebinia\" key=\"2\">\r\n          2 Trzebinia\r\n        </option>\r\n        <option value=\"3 Żywiec ul. Sporyska\" key=\"3\">\r\n          3 Żywiec ul.Sporyska\r\n        </option>\r\n        <option value=\"5 Żywiec Fabryka Śrub\" key=\"5\">\r\n          5 Żywiec Fabryka Śrub\r\n        </option>\r\n        <option value=\"8 Rychwałdek, Pewel Ślemieńska\" key=\"8\">\r\n          8 Rychwałdek, Pewel Ślemieńska\r\n        </option>\r\n        <option value=\"10 Kocurów pętla\" key=\"10\">\r\n          10 Kocurów pętla\r\n        </option>\r\n        <option value=\"12 Żywiec Kocurów\" key=\"12\">\r\n          12 Żywiec Kocurów\r\n        </option>\r\n        <option value=\"13 Przyłęków\" key=\"13\">\r\n          13 Przyłęków\r\n        </option>\r\n        <option value=\"15 Żywiec Spółdzielnia, Kocurów\" key=\"15\">\r\n          15 Żywiec Spółdzielnia, Kocurów\r\n        </option>\r\n      </select>\r\n    );\r\n  } else if (props.stop === \"548\") {\r\n    busArr.push(\r\n      <select\r\n        className=\"busSelect\"\r\n        onChange={props.handleChange}\r\n        key={props.stop}\r\n      >\r\n        <option value=\"1 Żywiec Os. Zgoda\" key=\"1\">\r\n          1 Żywiec Os. Zgoda\r\n        </option>\r\n        <option value=\"2 Żywiec Pętla MZK\" key=\"2\">\r\n          2 Żywiec Pętla MZK\r\n        </option>\r\n        <option value=\"5 Radziechowy, Przybędza\" key=\"5\">\r\n          5 Radziechowy, Przybędza\r\n        </option>\r\n        <option value=\"10 Juszczyna\" key=\"10\">\r\n          10 Juszczyna\r\n        </option>\r\n        <option value=\"12 Żywiec Pętla MZK, Dz. Przemysłowa\" key=\"12\">\r\n          12 Żywiec Pętla MZK, Dz. Przemysłowa\r\n        </option>\r\n        <option value=\"13 Żywiec Pętla MZK, Os. Kochanowskiego\" key=\"13\">\r\n          13 Żywiec Pętla MZK, Os. Kochanowskiego\r\n        </option>\r\n        <option value=\"15 Brzuśnik\" key=\"15\">\r\n          15 Brzuśnik\r\n        </option>\r\n      </select>\r\n    );\r\n  }\r\n\r\n  return busArr;\r\n}\r\n\r\nfunction MZKFetch() {\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [items, setItems] = useState([]);\r\n  const [line, setLine] = useState(\"3\");\r\n  const [direction, setDirection] = useState(\"Sienna / Leśna\");\r\n  const [stop, setStop] = useState(\"58\");\r\n  const formData = new FormData();\r\n  formData.append(\"kierunek\", direction);\r\n  formData.append(\"linia\", line);\r\n  formData.append(\"przystanek\", stop);\r\n\r\n  function handleChange(e) {\r\n    const target = e.target.value;\r\n    console.log(target);\r\n    return (\r\n      setLine(target.split(\" \")[0]),\r\n      setDirection(target.slice(2, target.length))\r\n    );\r\n  }\r\n\r\n  function handleStop(e) {\r\n    const target = e.target.value;\r\n    console.log(target);\r\n    console.log(e.target.nextSibling.value);\r\n    return (\r\n      setStop(target),\r\n      setTimeout(() => {\r\n        setDirection(\r\n          e.target.nextSibling.value.slice(2, e.target.nextSibling.value.length)\r\n        );\r\n      }, 0),\r\n      setTimeout(() => {\r\n        setLine(e.target.nextSibling.value.split(\" \")[0]);\r\n      }, 0)\r\n    );\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetch(\"https://limitless-everglades-89814.herokuapp.com/mzk\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"*/*\",\r\n        \"Accept-Encoding\": \"gzip, deflate, br\",\r\n        authorization: \"no-scam\",\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n      //aby wysyłać dane, musimy je przekazać do body\r\n      body: formData,\r\n    })\r\n      .then((res) => res.text())\r\n      .then(\r\n        (res) => {\r\n          setIsLoaded(true);\r\n          setItems(res);\r\n        },\r\n        (error) => {\r\n          setIsLoaded(false);\r\n          setError(error);\r\n        }\r\n      );\r\n  });\r\n\r\n  if (error) {\r\n    return <h1 style={{ fontStyle: 150 }} className=\"error\">Error! {error.message}</h1>;\r\n  } else if (!isLoaded) {\r\n    return (\r\n      <div className=\"zywiectable\">\r\n        <div className=\"header skeleton\" />\r\n        <div className=\"timetableSkeleton skeleton\" />\r\n        <div className=\"legendSkeleton skeleton\" />\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      //dangerouslySetInnerHTML - zamienia text w html\r\n      <div className=\"MZKfetch\">\r\n        <div className=\"zywiectable\">\r\n          <div className=\"header\">\r\n            <h2 className=\"title\">Tabela rozkładu jazdy MZK Żywiec</h2>\r\n            <h3 className=\"subtitle\">wybierz przystanek i linię:</h3>\r\n          </div>\r\n          <select className=\"stopSelect\" onChange={handleStop}>\r\n            <option value=\"58\" key=\"58\">\r\n              Jubileuszowa\r\n            </option>\r\n            <option value=\"647\" key=\"647\">\r\n              Dworzec\r\n            </option>\r\n            <option value=\"548\" key=\"548\">\r\n              Piłsudskiego II\r\n            </option>\r\n          </select>\r\n          <BusSelect\r\n            handleChange={handleChange}\r\n            stop={stop}\r\n            direction={setDirection}\r\n            line={setLine}\r\n          />\r\n          <div\r\n            className=\"timetable\"\r\n            dangerouslySetInnerHTML={{ __html: items }}\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <MovieFetch className=\"moviefetch\" />\r\n        <MZKFetch className=\"MZKfetch\" />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}