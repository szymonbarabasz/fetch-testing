{"version":3,"sources":["index.js"],"names":["Search","props","type","onChange","handleChange","Ratings","ratingsArr","ratings","length","i","push","Source","Value","MovieFetch","useState","isLoaded","setIsLoaded","error","setError","items","setItems","title","setTitle","useEffect","fetch","method","headers","Accept","then","res","json","result","console","log","style","fontStyle","message","className","e","target","value","Title","Actors","Director","Genre","Year","imdbRating","Metascore","Released","BusSelect","busArr","stop","RozekFetch","line","setLine","direction","setDirection","setStop","formData","FormData","append","authorization","body","text","nextSibling","setTimeout","slice","split","dangerouslySetInnerHTML","__html","App","Fragment","React","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d4e8ad11.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n\nfunction Search(props) {\n  return <input type=\"search\" onChange={props.handleChange} />;\n}\n// const title = prompt(\"Wpisz tytuł filmu który szukasz po angielsku\");\n\n//sposób na robienie loopów i if-ów w react\nfunction Ratings(props) {\n  let ratingsArr = [];\n  if (!props.ratings || props.ratings.length === 0) {\n    ratingsArr.push(<div key={0}>Brak innych ocen</div>);\n  } else {\n    for (let i = 0; i < props.ratings.length; i++) {\n      ratingsArr.push(\n        <div key={i}>\n          Ocena {props.ratings[i].Source}: {props.ratings[i].Value}\n        </div>\n      );\n    }\n  }\n  return ratingsArr;\n}\n\nfunction MovieFetch() {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [error, setError] = useState(null);\n  const [items, setItems] = useState([]);\n  const [title, setTitle] = useState(\"The Room\");\n\n  function handleChange(e) {\n    setTitle(e.target.value);\n  }\n  //dobrze jest zrobić fetch-a w componentDidMount po renderze (tutaj useEffect)\n  //ponieważ odpali to wszystko po renderze właśnie\n  useEffect(() => {\n    fetch(`https://www.omdbapi.com/?t=${title}&apikey=63e8f48b`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        // authorization: 'no-scam',\n        //   'Access-Control-Allow-Origin': '*',\n      },\n    })\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          console.log(result);\n          setIsLoaded(true);\n          setItems(result);\n          console.log(result.Ratings);\n        },\n        (error) => {\n          setIsLoaded(false);\n          setError(error);\n        }\n      );\n  }, [title]);\n\n  if (error) {\n    return <h1 style={{ fontStyle: 150 }}>Error! {error.message}</h1>;\n  } else if (!isLoaded) {\n    return <h1>Ładowanie...</h1>;\n  } else {\n    return (\n      <div className=\"moviestable\">\n        <h2>Tabela z filmami, wpisz poniżej</h2>\n        <Search handleChange={handleChange} />\n        <div>Tytuł: {items.Title}</div>\n        <div>Aktorzy: {items.Actors}</div>\n        <div>Reżyser: {items.Director}</div>\n        <div>Gatunek: {items.Genre}</div>\n        <div>Rok produkcji: {items.Year}</div>\n        <div>Ocena imdb: {items.imdbRating}</div>\n        <div>Ocena metascore: {items.Metascore}</div>\n        <Ratings ratings={items.Ratings} />\n        <div>Data wydania: {items.Released}</div>\n      </div>\n    );\n  }\n}\n\nfunction BusSelect(props) {\n  const busArr = [];\n\n  if (props.stop === \"58\") {\n    busArr.push(\n      <select\n        className=\"busSelect\"\n        onChange={props.handleChange}\n        key={props.stop}\n      >\n        <option value=\"3 Sienna\" key=\"3\">\n          3 Sienna\n        </option>\n        <option value=\"8 Żywiec Pętla MZK\" key=\"8\">\n          8 Żywiec Pętla MZK\n        </option>\n      </select>\n    );\n  } else if (props.stop === \"647\") {\n    busArr.push(\n      <select\n        className=\"busSelect\"\n        onChange={props.handleChange}\n        key={props.stop}\n      >\n        <option value=\"1 Świnna, Przyłęków, Pewel Ślemieńska\" key=\"1\">\n          1 Świnna, Przyłęków, Pewel Ślemieńska\n        </option>\n        <option value=\"2 Trzebinia\" key=\"2\">\n          2 Trzebinia\n        </option>\n        <option value=\"3 Żywiec ul. Sporyska\" key=\"3\">\n          3 Żywiec ul.Sporyska\n        </option>\n        <option value=\"5 Żywiec Fabryka Śrub\" key=\"5\">\n          5 Żywiec Fabryka Śrub\n        </option>\n        <option value=\"8 Rychwałdek, Pewel Ślemieńska\" key=\"8\">\n          8 Rychwałdek, Pewel Ślemieńska\n        </option>\n        <option value=\"10 Kocurów pętla\" key=\"10\">\n          10 Kocurów pętla\n        </option>\n        <option value=\"12 Żywiec Kocurów\" key=\"12\">\n          12 Żywiec Kocurów\n        </option>\n        <option value=\"13 Przyłęków\" key=\"13\">\n          13 Przyłęków\n        </option>\n        <option value=\"15 Żywiec Spółdzielnia, Kocurów\" key=\"15\">\n          15 Żywiec Spółdzielnia, Kocurów\n        </option>\n      </select>\n    );\n  } else if (props.stop === \"548\") {\n    busArr.push(\n      <select\n        className=\"busSelect\"\n        onChange={props.handleChange}\n        key={props.stop}\n      >\n        <option value=\"1 Żywiec Os. Zgoda\" key=\"1\">\n          1 Żywiec Os. Zgoda\n        </option>\n        <option value=\"2 Żywiec Pętla MZK\" key=\"2\">\n          2 Żywiec Pętla MZK\n        </option>\n        <option value=\"5 Radziechowy, Przybędza\" key=\"5\">\n          5 Radziechowy, Przybędza\n        </option>\n        <option value=\"10 Juszczyna\" key=\"10\">\n          10 Juszczyna\n        </option>\n        <option value=\"12 Żywiec Pętla MZK, Dz. Przemysłowa\" key=\"12\">\n          12 Żywiec Pętla MZK, Dz. Przemysłowa\n        </option>\n        <option value=\"13 Żywiec Pętla MZK, Os. Kochanowskiego\" key=\"13\">\n          13 Żywiec Pętla MZK, Os. Kochanowskiego\n        </option>\n        <option value=\"15 Brzuśnik\" key=\"15\">\n          15 Brzuśnik\n        </option>\n      </select>\n    );\n  }\n\n  return busArr;\n}\n\nfunction RozekFetch() {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [error, setError] = useState(null);\n  const [items, setItems] = useState([]);\n  const [line, setLine] = useState(\"3\");\n  const [direction, setDirection] = useState(\"Sienna\");\n  const [stop, setStop] = useState(\"58\");\n  const formData = new FormData();\n  formData.append(\"kierunek\", direction);\n  formData.append(\"linia\", line);\n  formData.append(\"przystanek\", stop);\n\n  function handleChange(e) {\n    const target = e.target.value;\n    console.log(target);\n    return (\n      setLine(target.split(\" \")[0]),\n      setDirection(target.slice(2, target.length))\n    );\n  }\n\n  function handleStop(e) {\n    const target = e.target.value;\n    console.log(target);\n    console.log(e.target.nextSibling.value);\n    return (\n      setStop(target),\n      setTimeout(() => {\n        setDirection(\n          e.target.nextSibling.value.slice(2, e.target.nextSibling.value.length)\n        );\n      }, 0),\n      setTimeout(() => {\n        setLine(e.target.nextSibling.value.split(\" \")[0]);\n      }, 0)\n    );\n  }\n\n  useEffect(() => {\n    fetch(\"https://limitless-everglades-89814.herokuapp.com/mzk\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"*/*\",\n        \"Accept-Encoding\": \"gzip, deflate, br\",\n        authorization: \"no-scam\",\n        \"Access-Control-Allow-Origin\": \"*\",\n      },\n      //aby wysyłać dane, musimy je przekazać do body\n      body: formData,\n    })\n      .then((res) => res.text())\n      .then(\n        (res) => {\n          setIsLoaded(true);\n          setItems(res);\n        },\n        (error) => {\n          setIsLoaded(false);\n          setError(error);\n        }\n      );\n  });\n\n  if (error) {\n    return <h1 style={{ fontStyle: 150 }}>Error! {error.message}</h1>;\n  } else if (!isLoaded) {\n    return <h1>Ładowanie...</h1>;\n  } else {\n    return (\n      //dangerouslySetInnerHTML - zamienia text w html\n      <div className=\"żywiectable\">\n        <h2 className=\"timetable\">Tabela rozkładu jazdy MZK Żywiec</h2>\n        <select className=\"stopSelect\" onChange={handleStop}>\n          <option value=\"58\" key=\"58\">\n            Jubileuszowa\n          </option>\n          <option value=\"647\" key=\"647\">\n            Dworzec\n          </option>\n          <option value=\"548\" key=\"548\">\n            Piłsudskiego II\n          </option>\n        </select>\n        <BusSelect\n          handleChange={handleChange}\n          stop={stop}\n          direction={setDirection}\n          line={setLine}\n        />\n        <div dangerouslySetInnerHTML={{ __html: items }}></div>\n      </div>\n    );\n  }\n}\n\nclass App extends React.Component {\n  render() {\n    return (\n      <React.Fragment>\n        <MovieFetch />\n        <RozekFetch />\n      </React.Fragment>\n    );\n  }\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}